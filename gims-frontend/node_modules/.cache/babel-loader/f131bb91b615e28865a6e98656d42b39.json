{"ast":null,"code":"import _slicedToArray from\"/Users/chalanthornaenguthaivadt/Desktop/final_thesis/gims/gims-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./transactionpage.css';import{Link}from'react-router-dom';import{useCookies}from'react-cookie';import TransactionTable from'../../components/transactiontable/TransactionTable';import{useAlert}from'../../contexts/AlertContext';import{GetAllTransactionJoinGold}from'../../functions/GetData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TransactionPage(){var _useCookies=useCookies(['access-token']),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var _useAlert=useAlert(),setAlert=_useAlert.setAlert;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allTransactionDetail=_useState2[0],setAllTransactionDetail=_useState2[1];var _useState3=useState('all'),_useState4=_slicedToArray(_useState3,2),filterStatus=_useState4[0],setFilterStatus=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),startDate=_useState6[0],setStartDate=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),endDate=_useState8[0],setEndDate=_useState8[1];var current=new Date();var currentDate=\"\".concat(current.getFullYear(),\"-\").concat(String(current.getMonth()+1).padStart(2,'0'),\"-\").concat(String(current.getDate()).padStart(2,'0'));useEffect(function(){GetAllTransactionJoinGold(cookies['access-token']).then(function(res){setAllTransactionDetail(res.data);}).catch(function(){setAlert({active:true,message:'Error! can not get data'});});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"transaction page-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:\"transaction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-page-option\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-filter\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-radio\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio-all\",className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"radio-all\",name:\"radio\",defaultChecked:true,onClick:function onClick(){setFilterStatus('all');}}),/*#__PURE__*/_jsx(\"span\",{className:\"radio-ckeckbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"all\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio-sell\",className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"radio-sell\",name:\"radio\",onClick:function onClick(){setFilterStatus('sell');}}),/*#__PURE__*/_jsx(\"span\",{className:\"radio-ckeckbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"sell\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio-buy\",className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"radio-buy\",name:\"radio\",onClick:function onClick(){setFilterStatus('buy');}}),/*#__PURE__*/_jsx(\"span\",{className:\"radio-ckeckbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"buy\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio-trade\",className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"radio-trade\",name:\"radio\",onClick:function onClick(){setFilterStatus('change');}}),/*#__PURE__*/_jsx(\"span\",{className:\"radio-ckeckbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"change\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"option-vertical-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-daterange\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",max:endDate||currentDate,onChange:function onChange(e){setStartDate(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{children:\"to\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",min:startDate,max:currentDate,onChange:function onChange(e){setEndDate(e.target.value);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-transaction\",children:[/*#__PURE__*/_jsx(Link,{to:\"/transaction/buy\",className:\"go-to-create\",children:/*#__PURE__*/_jsx(\"div\",{children:\"buy\"})}),/*#__PURE__*/_jsx(Link,{to:\"/transaction/sell\",className:\"go-to-create\",children:/*#__PURE__*/_jsx(\"div\",{children:\"sell\"})}),/*#__PURE__*/_jsx(Link,{to:\"/transaction/trade\",className:\"go-to-create\",children:/*#__PURE__*/_jsx(\"div\",{children:\"change\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transaction-page-table\",children:/*#__PURE__*/_jsx(TransactionTable,{transactionData:allTransactionDetail,status:filterStatus,time:\"\".concat(startDate,\" \").concat(endDate)})})]})]});}export default TransactionPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useCookies","TransactionTable","useAlert","GetAllTransactionJoinGold","TransactionPage","cookies","setAlert","allTransactionDetail","setAllTransactionDetail","filterStatus","setFilterStatus","startDate","setStartDate","endDate","setEndDate","current","Date","currentDate","getFullYear","String","getMonth","padStart","getDate","then","res","data","catch","active","message","e","target","value"],"sources":["/Users/chalanthornaenguthaivadt/Desktop/final_thesis/gims/gims-frontend/src/pages/transaction/TransactionPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './transactionpage.css';\nimport { Link } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n\nimport TransactionTable from '../../components/transactiontable/TransactionTable';\n\nimport { useAlert } from '../../contexts/AlertContext';\n\nimport { GetAllTransactionJoinGold } from '../../functions/GetData';\n\nimport { TransactionDataJoinGold } from '../../interfaces/TransactionData';\n\nfunction TransactionPage() {\n  const [cookies] = useCookies(['access-token']);\n\n  const { setAlert } = useAlert();\n\n  const [allTransactionDetail, setAllTransactionDetail] = useState<TransactionDataJoinGold[]>([]);\n  const [filterStatus, setFilterStatus] = useState<string>('all');\n  const [startDate, setStartDate] = useState<string>('');\n  const [endDate, setEndDate] = useState<string>('');\n\n  const current = new Date();\n  const currentDate = `${\n    current.getFullYear()\n  }-${\n    String(current.getMonth() + 1).padStart(2, '0')\n  }-${\n    String(current.getDate()).padStart(2, '0')\n  }`;\n\n  useEffect(() => {\n    GetAllTransactionJoinGold(cookies['access-token']).then((res) => {\n      setAllTransactionDetail(res.data);\n    }).catch(() => {\n      setAlert({\n        active: true,\n        message: 'Error! can not get data'\n      });\n    });\n  }, []);\n\n  return (\n    <div className=\"transaction page-background\">\n      {/* -- Header -- */}\n      <div className=\"page-header\">\n        transaction\n      </div>\n      {/* -- Container -- */}\n      <div className=\"page-container\">\n        {/* -- Page Option -- */}\n        <div className=\"transaction-page-option\">\n          {/* -- Status Filter -- */}\n          <div className=\"option-filter\">\n            <div className=\"option-radio\">\n              <label htmlFor=\"radio-all\" className=\"radio-label\">\n                <input\n                  type=\"radio\"\n                  id=\"radio-all\"\n                  name=\"radio\"\n                  defaultChecked\n                  onClick={() => { setFilterStatus('all'); }}\n                />\n                <span className=\"radio-ckeckbox\" />\n                <span>all</span>\n              </label>\n              <label htmlFor=\"radio-sell\" className=\"radio-label\">\n                <input\n                  type=\"radio\"\n                  id=\"radio-sell\"\n                  name=\"radio\"\n                  onClick={() => { setFilterStatus('sell'); }}\n                />\n                <span className=\"radio-ckeckbox\" />\n                <span>sell</span>\n              </label>\n              <label htmlFor=\"radio-buy\" className=\"radio-label\">\n                <input\n                  type=\"radio\"\n                  id=\"radio-buy\"\n                  name=\"radio\"\n                  onClick={() => { setFilterStatus('buy'); }}\n                />\n                <span className=\"radio-ckeckbox\" />\n                <span>buy</span>\n              </label>\n              <label htmlFor=\"radio-trade\" className=\"radio-label\">\n                <input\n                  type=\"radio\"\n                  id=\"radio-trade\"\n                  name=\"radio\"\n                  onClick={() => { setFilterStatus('change'); }}\n                />\n                <span className=\"radio-ckeckbox\" />\n                <span>change</span>\n              </label>\n            </div>\n            <div className=\"option-vertical-line\" />\n            {/* -- Time Filter -- */}\n            <div className=\"option-daterange\">\n              <input\n                type=\"date\"\n                max={endDate || currentDate}\n                onChange={(e) => { setStartDate(e.target.value); }}\n              />\n              <div>to</div>\n              <input\n                type=\"date\"\n                min={startDate}\n                max={currentDate}\n                onChange={(e) => { setEndDate(e.target.value); }}\n              />\n            </div>\n          </div>\n          {/* -- Create Transaction -- */}\n          <div className=\"create-transaction\">\n            {/* -- Buy Transaction -- */}\n            <Link\n              to=\"/transaction/buy\"\n              className=\"go-to-create\"\n            >\n              <div>buy</div>\n            </Link>\n            {/* -- Sell Transaction -- */}\n            <Link\n              to=\"/transaction/sell\"\n              className=\"go-to-create\"\n            >\n              <div>sell</div>\n            </Link>\n            {/* -- Trade Transaction -- */}\n            <Link\n              to=\"/transaction/trade\"\n              className=\"go-to-create\"\n            >\n              <div>change</div>\n            </Link>\n          </div>\n        </div>\n        {/* -- Transaction Table -- */}\n        <div className=\"transaction-page-table\">\n          <TransactionTable\n            transactionData={allTransactionDetail}\n            status={filterStatus}\n            time={`${startDate} ${endDate}`}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TransactionPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}