{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chalanthornaenguthaivadt/Desktop/final_thesis/gims/gims-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/chalanthornaenguthaivadt/Desktop/final_thesis/gims/gims-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chalanthornaenguthaivadt/Desktop/final_thesis/gims/gims-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useCookies}from'react-cookie';import'./registercontainer.css';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import SignUpClick from'../../functions/SignUp';import{useLoading}from'../../contexts/LoadingContext';import{useAlert}from'../../contexts/AlertContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterContainer(){var navigate=useNavigate();var _useCookies=useCookies(['access-token']),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var _useLoading=useLoading(),setLoading=_useLoading.setLoading;var _useAlert=useAlert(),setAlert=_useAlert.setAlert;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userPasswd=_useState4[0],setUserPasswd=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmUserPasswd=_useState6[0],setComfirmUserPasswd=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),userType=_useState8[0],setUserType=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),matchPasswd=_useState10[0],setMatchPasswd=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),fillAll=_useState12[0],setFillAll=_useState12[1];function checkPasswdMatch(){if(userPasswd===confirmUserPasswd){return true;}return false;}function handleSubmit(){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var signup;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!checkPasswdMatch()){_context.next=7;break;}setLoading(true);_context.next=4;return SignUpClick(cookies['access-token'],username,userPasswd,userType);case 4:signup=_context.sent;if(signup==='complete'){setFillAll(true);setUsername('');setUserPasswd('');setComfirmUserPasswd('');setUserType('');navigate('/organization');}else if(signup==='empty'){setFillAll(false);}else if(signup==='incomplete'){setAlert({active:true,message:'Error! can not register.\\ntry again later.'});}setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}useEffect(function(){setMatchPasswd(checkPasswdMatch());},[userPasswd,confirmUserPasswd]);return/*#__PURE__*/_jsxs(\"div\",{className:\"organization-page-register\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"goback-account\",children:/*#__PURE__*/_jsx(\"button\",{className:\"goback-account-button\",type:\"button\",onClick:function onClick(){navigate('/organization');},children:/*#__PURE__*/_jsx(ArrowBackIcon,{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"register-main page-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-content-header\",children:\"register owner/employee account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"register-form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputbox register\",type:\"text\",placeholder:\"Account Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputbox register\",type:\"password\",placeholder:\"Account Password\",value:userPasswd,onChange:function onChange(e){return setUserPasswd(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputbox register\",type:\"password\",placeholder:\"Confirm Account Password\",value:confirmUserPasswd,onChange:function onChange(e){return setComfirmUserPasswd(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"\\n              input-password-match\\n              \".concat(matchPasswd?'':'invalid',\"\\n            \"),children:\"password dose not match\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"select-accuont-type\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"select role\"}),/*#__PURE__*/_jsxs(\"select\",{value:userType,onChange:function onChange(e){return setUserType(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,hidden:true,children:\"select . . .\"}),/*#__PURE__*/_jsx(\"option\",{value:\"owner\",children:\"owner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employee\",children:\"employee\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"register custom-arrow\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-fillall \".concat(fillAll?'':'invalid'),children:\"please fill all\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-signup\",type:\"button\",onClick:function onClick(){handleSubmit();},children:\"sign up account\"})]})]})]});}export default RegisterContainer;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useCookies","ArrowBackIcon","SignUpClick","useLoading","useAlert","RegisterContainer","navigate","cookies","setLoading","setAlert","username","setUsername","userPasswd","setUserPasswd","confirmUserPasswd","setComfirmUserPasswd","userType","setUserType","matchPasswd","setMatchPasswd","fillAll","setFillAll","checkPasswdMatch","handleSubmit","signup","active","message","e","target","value"],"sources":["/Users/chalanthornaenguthaivadt/Desktop/final_thesis/gims/gims-frontend/src/components/registercontainer/RegisterContainer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\nimport './registercontainer.css';\n\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SignUpClick from '../../functions/SignUp';\n\nimport { useLoading } from '../../contexts/LoadingContext';\nimport { useAlert } from '../../contexts/AlertContext';\n\nfunction RegisterContainer() {\n  const navigate = useNavigate();\n\n  const [cookies] = useCookies(['access-token']);\n\n  const { setLoading } = useLoading();\n  const { setAlert } = useAlert();\n\n  const [username, setUsername] = useState<string>('');\n  const [userPasswd, setUserPasswd] = useState<string>('');\n  const [confirmUserPasswd, setComfirmUserPasswd] = useState<string>('');\n  const [userType, setUserType] = useState<string>('');\n\n  const [matchPasswd, setMatchPasswd] = useState<boolean>(true);\n  const [fillAll, setFillAll] = useState<boolean>(true);\n\n  function checkPasswdMatch() {\n    if (userPasswd === confirmUserPasswd) {\n      return true;\n    }\n    return false;\n  }\n\n  async function handleSubmit() {\n    if (checkPasswdMatch()) {\n      setLoading(true);\n      const signup = await SignUpClick(cookies['access-token'], username, userPasswd, userType);\n      if (signup === 'complete') {\n        setFillAll(true);\n        setUsername('');\n        setUserPasswd('');\n        setComfirmUserPasswd('');\n        setUserType('');\n        navigate('/organization');\n      } else if (signup === 'empty') {\n        setFillAll(false);\n      } else if (signup === 'incomplete') {\n        setAlert({\n          active: true,\n          message: 'Error! can not register.\\ntry again later.'\n        });\n      }\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    setMatchPasswd(checkPasswdMatch());\n  }, [userPasswd, confirmUserPasswd]);\n\n  return (\n    <div className=\"organization-page-register\">\n      <div className=\"goback-account\">\n        <button\n          className=\"goback-account-button\"\n          type=\"button\"\n          onClick={() => { navigate('/organization'); }}\n        >\n          <ArrowBackIcon />\n        </button>\n      </div>\n      <div className=\"register-main page-content\">\n        {/* -- Container Header -- */}\n        <div className=\"page-content-header\">\n          register owner/employee account\n        </div>\n        {/* -- Container Form -- */}\n        <div className=\"register-form\">\n          {/* Input */}\n          <input\n            className=\"inputbox register\"\n            type=\"text\"\n            placeholder=\"Account Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <input\n            className=\"inputbox register\"\n            type=\"password\"\n            placeholder=\"Account Password\"\n            value={userPasswd}\n            onChange={(e) => setUserPasswd(e.target.value)}\n          />\n          <input\n            className=\"inputbox register\"\n            type=\"password\"\n            placeholder=\"Confirm Account Password\"\n            value={confirmUserPasswd}\n            onChange={(e) => setComfirmUserPasswd(e.target.value)}\n          />\n          {/* Matching Password Message */}\n          <div\n            className={`\n              input-password-match\n              ${matchPasswd ? '' : 'invalid'}\n            `}\n          >\n            password dose not match\n          </div>\n          {/* Select */}\n          <div className=\"select-accuont-type\">\n            <span>select role</span>\n            <select\n              value={userType}\n              onChange={(e) => setUserType(e.target.value)}\n            >\n\n              <option value=\"\" disabled hidden>select . . .</option>\n              <option value=\"owner\">owner</option>\n              <option value=\"employee\">employee</option>\n            </select>\n            <span className=\"register custom-arrow\" />\n          </div>\n          {/* Fill All Input Message */}\n          <div className={`input-fillall ${fillAll ? '' : 'invalid'}`}>\n            please fill all\n          </div>\n          {/* Button */}\n          <button\n            className=\"button-signup\"\n            type=\"button\"\n            onClick={() => { handleSubmit(); }}\n          >\n            sign up account\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RegisterContainer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}