{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Base } from './Base.js';\nimport { Number as NumberT } from './Number.js';\nimport * as utils from './utils.js';\nvar ArrayT = /*#__PURE__*/function (_Base) {\n  _inherits(ArrayT, _Base);\n  var _super = _createSuper(ArrayT);\n  function ArrayT(type, length) {\n    var _this;\n    var lengthType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'count';\n    _classCallCheck(this, ArrayT);\n    _this = _super.call(this);\n    _this.type = type;\n    _this.length = length;\n    _this.lengthType = lengthType;\n    return _this;\n  }\n  _createClass(ArrayT, [{\n    key: \"decode\",\n    value: function decode(stream, parent) {\n      var length;\n      var pos = stream.pos;\n      var res = [];\n      var ctx = parent;\n      if (this.length != null) {\n        length = utils.resolveLength(this.length, stream, parent);\n      }\n      if (this.length instanceof NumberT) {\n        // define hidden properties\n        Object.defineProperties(res, {\n          parent: {\n            value: parent\n          },\n          _startOffset: {\n            value: pos\n          },\n          _currentOffset: {\n            value: 0,\n            writable: true\n          },\n          _length: {\n            value: length\n          }\n        });\n        ctx = res;\n      }\n      if (length == null || this.lengthType === 'bytes') {\n        var target = length != null ? stream.pos + length : (parent != null ? parent._length : undefined) ? parent._startOffset + parent._length : stream.length;\n        while (stream.pos < target) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      } else {\n        for (var i = 0, end = length; i < end; i++) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      }\n      return res;\n    }\n  }, {\n    key: \"size\",\n    value: function size(array, ctx) {\n      var includePointers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (!array) {\n        return this.type.size(null, ctx) * utils.resolveLength(this.length, null, ctx);\n      }\n      var size = 0;\n      if (this.length instanceof NumberT) {\n        size += this.length.size();\n        ctx = {\n          parent: ctx,\n          pointerSize: 0\n        };\n      }\n      var _iterator = _createForOfIteratorHelper(array),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          size += this.type.size(item, ctx);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      if (ctx && includePointers && this.length instanceof NumberT) {\n        size += ctx.pointerSize;\n      }\n      return size;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(stream, array, parent) {\n      var ctx = parent;\n      if (this.length instanceof NumberT) {\n        ctx = {\n          pointers: [],\n          startOffset: stream.pos,\n          parent: parent\n        };\n        ctx.pointerOffset = stream.pos + this.size(array, ctx, false);\n        this.length.encode(stream, array.length);\n      }\n      var _iterator2 = _createForOfIteratorHelper(array),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var item = _step2.value;\n          this.type.encode(stream, item, ctx);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      if (this.length instanceof NumberT) {\n        var i = 0;\n        while (i < ctx.pointers.length) {\n          var ptr = ctx.pointers[i++];\n          ptr.type.encode(stream, ptr.val, ptr.parent);\n        }\n      }\n    }\n  }]);\n  return ArrayT;\n}(Base);\nexport { ArrayT as Array };","map":{"version":3,"names":["Base","Number","NumberT","utils","ArrayT","type","length","lengthType","stream","parent","pos","res","ctx","resolveLength","Object","defineProperties","value","_startOffset","_currentOffset","writable","_length","target","undefined","push","decode","i","end","array","includePointers","size","pointerSize","item","pointers","startOffset","pointerOffset","encode","ptr","val","Array"],"sources":["/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/restructure/src/Array.js"],"sourcesContent":["import {Base} from './Base.js';\nimport {Number as NumberT} from './Number.js';\nimport * as utils from './utils.js';\n\nclass ArrayT extends Base {\n  constructor(type, length, lengthType = 'count') {\n    super();\n    this.type = type;\n    this.length = length;\n    this.lengthType = lengthType;\n  }\n\n  decode(stream, parent) {\n    let length;\n    const { pos } = stream;\n\n    const res = [];\n    let ctx = parent;\n\n    if (this.length != null) {\n      length = utils.resolveLength(this.length, stream, parent);\n    }\n\n    if (this.length instanceof NumberT) {\n      // define hidden properties\n      Object.defineProperties(res, {\n        parent:         { value: parent },\n        _startOffset:   { value: pos },\n        _currentOffset: { value: 0, writable: true },\n        _length:        { value: length }\n      });\n\n      ctx = res;\n    }\n\n    if ((length == null) || (this.lengthType === 'bytes')) {\n      const target = (length != null) ?\n        stream.pos + length\n      : (parent != null ? parent._length : undefined) ?\n        parent._startOffset + parent._length\n      :\n        stream.length;\n\n      while (stream.pos < target) {\n        res.push(this.type.decode(stream, ctx));\n      }\n\n    } else {\n      for (let i = 0, end = length; i < end; i++) {\n        res.push(this.type.decode(stream, ctx));\n      }\n    }\n\n    return res;\n  }\n\n  size(array, ctx, includePointers = true) {\n    if (!array) {\n      return this.type.size(null, ctx) * utils.resolveLength(this.length, null, ctx);\n    }\n\n    let size = 0;\n    if (this.length instanceof NumberT) {\n      size += this.length.size();\n      ctx = {parent: ctx, pointerSize: 0};\n    }\n\n    for (let item of array) {\n      size += this.type.size(item, ctx);\n    }\n\n    if (ctx && includePointers && this.length instanceof NumberT) {\n      size += ctx.pointerSize;\n    }\n    \n    return size;\n  }\n\n  encode(stream, array, parent) {\n    let ctx = parent;\n    if (this.length instanceof NumberT) {\n      ctx = {\n        pointers: [],\n        startOffset: stream.pos,\n        parent\n      };\n\n      ctx.pointerOffset = stream.pos + this.size(array, ctx, false);\n      this.length.encode(stream, array.length);\n    }\n\n    for (let item of array) {\n      this.type.encode(stream, item, ctx);\n    }\n\n    if (this.length instanceof NumberT) {\n      let i = 0;\n      while (i < ctx.pointers.length) {\n        const ptr = ctx.pointers[i++];\n        ptr.type.encode(stream, ptr.val, ptr.parent);\n      }\n    }\n  }\n}\n\nexport {ArrayT as Array};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}