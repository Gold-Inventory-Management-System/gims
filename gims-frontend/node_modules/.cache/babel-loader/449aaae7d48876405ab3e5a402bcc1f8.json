{"ast":null,"code":"import _slicedToArray from\"/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,createContext}from'react';import{useNavigate}from'react-router-dom';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthUserContext=/*#__PURE__*/createContext(null);export function AuthUserProvider(_ref){var children=_ref.children;var navigate=useNavigate();var _useCookies=useCookies(['access-token']),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),valid=_useState2[0],isValid=_useState2[1];var checking=function checking(){var cookie=cookies['access-token'];if(!cookie){isValid(false);navigate('/signin');}else{isValid(true);}};useEffect(function(){checking();},[]);return/*#__PURE__*/_jsx(AuthUserContext.Provider,{value:valid,children:children});}","map":{"version":3,"names":["React","useState","useEffect","createContext","useNavigate","useCookies","AuthUserContext","AuthUserProvider","children","navigate","cookies","valid","isValid","checking","cookie"],"sources":["/Users/chalanthornaenguthaivadt/Desktop/Thesis/Gold-Inventory-Management-System/src/contexts/AuthUserContex.tsx"],"sourcesContent":["import React, { useState, useEffect, createContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n\nexport const AuthUserContext = createContext<boolean | null>(null);\n\nexport function AuthUserProvider({ children }: any) {\n  const navigate = useNavigate();\n  const [cookies] = useCookies(['access-token']);\n  const [valid, isValid] = useState<boolean>(false);\n\n  const checking = () => {\n    const cookie = cookies['access-token'];\n    if (!cookie) {\n      isValid(false);\n      navigate('/signin');\n    } else {\n      isValid(true);\n    }\n  };\n  useEffect(() => {\n    checking();\n  }, []);\n\n  return (\n    <AuthUserContext.Provider value={valid}>{ children }</AuthUserContext.Provider>\n  );\n}\n"],"mappings":"qKAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,aAAa,KAAQ,OAAO,CACjE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,UAAU,KAAQ,cAAc,CAAC,2CAE1C,MAAO,IAAMC,gBAAe,cAAGH,aAAa,CAAiB,IAAI,CAAC,CAElE,MAAO,SAASI,iBAAgB,MAAoB,IAAjBC,SAAQ,MAARA,QAAQ,CACzC,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,gBAAkBC,UAAU,CAAC,CAAC,cAAc,CAAC,CAAC,4CAAvCK,OAAO,iBACd,cAAyBT,QAAQ,CAAU,KAAK,CAAC,wCAA1CU,KAAK,eAAEC,OAAO,eAErB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAMC,OAAM,CAAGJ,OAAO,CAAC,cAAc,CAAC,CACtC,GAAI,CAACI,MAAM,CAAE,CACXF,OAAO,CAAC,KAAK,CAAC,CACdH,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,IAAM,CACLG,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAC,CACDV,SAAS,CAAC,UAAM,CACdW,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,KAAC,eAAe,CAAC,QAAQ,EAAC,KAAK,CAAEF,KAAM,UAAGH,QAAQ,EAA6B,CAEnF"},"metadata":{},"sourceType":"module"}